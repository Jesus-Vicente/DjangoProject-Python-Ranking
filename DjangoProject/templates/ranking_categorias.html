{% extends 'base.html' %}
{% load static %}

{% block body %}
<div class="container main-bg min-vh-100 pt-5 animate__animated animate__fadeIn">

    <div class="text-center mb-5">
        <h1 class="text-white fw-bold" style="letter-spacing: 3px;">
            SELECCIÓN DE <span class="text-warning">CATEGORÍA</span>
        </h1>
        <p class="text-info text-uppercase small">Elige el ranking que deseas liderar</p>
        <div class="mx-auto bg-warning" style="height: 3px; width: 60px; border-radius: 2px;"></div>
    </div>

    <div class="row g-4 justify-content-center">
        {% for i in categorias %}
            <div class="col-12 col-sm-6 col-lg-3">
                <a href="{% url 'go_rankings' i.code %}" class="text-decoration-none">
                    <div class="card h-100 text-center text-white bg-dark-card border-0 shadow-lg card-selection">
                        <div class="card-body py-5 d-flex flex-column align-items-center justify-content-center">

                            <div class="logo-container mb-4">
                                <img src="{{ i.logo }}" alt="{{ i.nombre }}"
                                     class="category-icon img-fluid"
                                     onerror="this.onerror=null; this.src='{% static 'images/default-categoria-icono.png' %}';">
                            </div>

                            <h3 class="card-title h4 fw-black text-uppercase">{{ i.nombre }}</h3>

                            <div class="mt-3">
                                <span class="btn btn-outline-warning btn-sm px-4 rounded-pill">Entrar</span>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
        {% empty %}
            <div class="col-12 text-center text-muted mt-5">
                <i class="bi bi-exclamation-triangle fs-1"></i>
                <p>No hay categorías de ranking disponibles en este momento.</p>
            </div>
        {% endfor %}
    </div>

    <div class="text-center mt-5">
        <a href="{% url 'go_home' %}" class="btn btn-link text-secondary text-decoration-none">
            <i class="bi bi-arrow-left"></i> Volver al Centro de Mando
        </a>
    </div>
</div>

<style>
    .bg-dark-card {
        background: linear-gradient(145deg, #0a192f, #020c1b);
        border: 1px solid rgba(255, 255, 255, 0.05) !important;
        border-radius: 20px;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .card-selection:hover {
        transform: translateY(-15px) scale(1.05);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.8) !important;
        border: 1px solid #ffc107 !important;
    }
    .logo-container {
        width: 100px;
        height: 100px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(255, 255, 255, 0.03);
        border-radius: 50%;
        padding: 15px;
    }
    .category-icon {
        max-width: 70px;
        max-height: 70px;
        object-fit: contain;
    }
    .fw-black { font-weight: 900; }
</style>
{% endblock %}