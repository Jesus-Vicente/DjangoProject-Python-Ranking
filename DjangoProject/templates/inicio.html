{% extends 'base.html' %}
{% load static %}

{% block body %}
<div class="container-fluid main-bg {% if user.is_authenticated %}pt-5{% else %}d-flex align-items-center justify-content-center{% endif %}">

    {% if not user.is_authenticated %}
        <div class="text-center content-wrapper animate__animated animate__fadeIn">
            <h1 class="display-1 fw-bold main-title mb-2">
                INAZUMA<span class="text-white">RANK</span>
            </h1>
            <p class="subtitle mb-5 text-uppercase tracking-widest">Gestión de Equipos y Estadísticas de Nivel Nacional</p>

            <div class="row g-4 justify-content-center">
                <div class="col-md-5 col-lg-4">
                    <a href="{% url 'do_login' %}" class="text-decoration-none">
                        <div class="card card-custom card-login h-100 shadow-lg border-0">
                            <div class="card-body d-flex flex-column align-items-center justify-content-center p-5">
                                <div class="icon-circle mb-3 bg-primary text-white shadow-glow-blue">
                                    <i class="bi bi-person-fill-check" style="font-size: 2rem;"></i>
                                </div>
                                <h2 class="fw-bold text-white">ACCEDER</h2>
                                <p class="text-light opacity-75">Revisa tus tácticas</p>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-md-5 col-lg-4">
                    <a href="{% url 'do_register' %}" class="text-decoration-none">
                        <div class="card card-custom card-register h-100 shadow-lg border-0">
                            <div class="card-body d-flex flex-column align-items-center justify-content-center p-5 text-dark">
                                <div class="icon-circle mb-3 bg-dark text-warning shadow-glow-yellow">
                                    <i class="bi bi-person-plus-fill" style="font-size: 2rem;"></i>
                                </div>
                                <h2 class="fw-bold">FICHAR</h2>
                                <p class="opacity-75 fw-bold">Crea tu perfil</p>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>

    {% else %}
        <div class="container d-flex flex-column align-items-center animate__animated animate__zoomIn">
            <h2 class="text-white mb-5" style="text-shadow: 0 0 10px rgba(255,193,7,0.5);">
                ⚡ Bienvenido, Entrenador <span class="text-warning">{{ user.nombre }}</span> ⚡
            </h2>

            <div class="row g-4 justify-content-center w-100">
                <div class="col-10 col-md-4">
                    <a href="{% url 'show_categories' %}" class="text-decoration-none">
                        <div class="card text-center text-white bg-dark-blue card-hover h-100 shadow">
                            <div class="card-body py-5">
                                <i class="bi bi-trophy-fill mb-3 d-block text-warning" style="font-size: 3rem;"></i>
                                <h3 class="card-title">Torneos y Rankings</h3>
                                <p class="small opacity-75">Ordena a tus jugadores</p>
                            </div>
                        </div>
                    </a>
                </div>

                <div class="col-10 col-md-4">
                    <a href="{% url 'mostrar_elementos' %}" class="text-decoration-none">
                        <div class="card text-center text-white bg-purple card-hover h-100 shadow">
                            <div class="card-body py-5">
                                <i class="bi bi-star-fill mb-3 d-block text-info" style="font-size: 3rem;"></i>
                                <h3 class="card-title">Valoraciones</h3>
                                <p class="small opacity-75">Puntúa el rendimiento</p>
                            </div>
                        </div>
                    </a>
                </div>
            </div>

            <div class="row g-4 justify-content-center w-100 mt-2">
                {% if user.rol == 'admin' %}
                <div class="col-10 col-md-4">
                    <a href="{% url 'go_admin_panel' %}" class="text-decoration-none">
                        <div class="card text-center text-dark bg-yellow card-hover h-100 shadow">
                            <div class="card-body py-5">
                                <i class="bi bi-shield-lock-fill mb-3 d-block" style="font-size: 3rem;"></i>
                                <h3 class="card-title fw-bold">Admin</h3>
                                <p class="small fw-bold opacity-75">Gestión de datos CSV</p>
                            </div>
                        </div>
                    </a>
                </div>
                {% endif %}

                <div class="col-10 col-md-4">
                    <a href="{% url 'rankings_usuario' %}" class="text-decoration-none">
                        <div class="card text-center text-white bg-blue card-hover h-100 shadow">
                            <div class="card-body py-5">
                                <i class="bi bi-bar-chart-line-fill mb-3 d-block text-white" style="font-size: 3rem;"></i>
                                <h3 class="card-title">Mis Tops</h3>
                                <p class="small opacity-75">Tus listas personalizadas</p>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    {% endif %}
</div>

<style>
    :root {
        --bg-dark-space: #020c1b;
        --bright-gold: #ffc107;
        --dark-blue-card: #0a192f;
        --purple-card: #4b2291;
        --blue-card: #0d6efd;
    }

    .main-bg {
        min-height: 100vh;
        background: radial-gradient(circle at center, #0a192f 0%, #020c1b 100%);
        overflow-x: hidden;
    }

    .main-title {
        color: var(--bright-gold);
        text-shadow: 0 0 20px rgba(255, 193, 7, 0.4);
        letter-spacing: 5px;
    }

    .card-custom { border-radius: 20px; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    .card-login { background: rgba(13, 110, 253, 0.1); border: 2px solid #0d6efd !important; }
    .card-register { background: var(--bright-gold); border: none !important; }

    .icon-circle {
        width: 80px; height: 80px;
        border-radius: 50%;
        display: flex; align-items: center; justify-content: center;
    }

    .bg-dark-blue { background: linear-gradient(145deg, #0a192f, #112240); }
    .bg-purple { background: linear-gradient(145deg, #4b2291, #6f42c1); }
    .bg-blue { background: linear-gradient(145deg, #0d6efd, #0a58ca); }
    .bg-yellow { background: linear-gradient(145deg, #ffc107, #ff9800); }

    .card-hover {
        border-radius: 20px;
        transition: all 0.3s ease;
        border: 1px solid rgba(255,255,255,0.1);
    }

    .card-hover:hover {
        transform: translateY(-10px) scale(1.02);
        box-shadow: 0 15px 30px rgba(0,0,0,0.6) !important;
        filter: brightness(1.15);
    }

    .shadow-glow-blue { box-shadow: 0 0 20px rgba(13, 110, 253, 0.5); }
    .shadow-glow-yellow { box-shadow: 0 0 20px rgba(0, 0, 0, 0.3); }
</style>
{% endblock %}